---
layout:     post
title:      iOS import include  @class 区别
subtitle:    import include  @class 区别
date:       2017-11-11
author:     hdj
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - iOS
    - import
    - include
    - class
---
# 前言


在iOS当中文件导入有三种方式import、include、@class三种方式这三种导入的方式。

# 一、#include与#import区别

### 1. #include <xxx.h> 
### 2. #import <xxx.h>
```
用于对系统自带的头文件的引用，编译器会在系统文件目录下查找该文件。
```
### 3. #include "xxx.h"

### 4. #import  "xxx.h"
```
用户自定义的文件用双引号引用，引用时编译器首先会在用户目录下查找，
然后去安装目录中查找，最后在系统文件目录中查找。
```
###区别:

  #import和#include同样可以将头文件引入到我们需要的文件中，那么它们有什么区别呢?

当我们在代码中对同一个文件进行两次#include的时候会报错：
因为#include相当于拷贝头文件中的内容，所以会报重复定义的错误。

[C++头文件保护](https://www.2cto.com/kf/201212/176881.html)
[C语言预处理命令详解](http://www.cnblogs.com/clover-toeic/p/3851102.html)

例如: 有a.h、b.h、c.h三个头文件,  b.h引用包含a.h,   c.h中同时引用包含a.h和b.h：
```
如果使用#include来包含头文件，不做重复引用处理情况下，那么在c.h中相当于包含了两次
a.h。这样在编译时就会引起不必要的错误，这时就需要引入头文件保护符才能避免c.h中重复
引用包含两次a.h。
```

```
1#ifndef  <标识符>

2            #define  <标识符>

3            //真正的内容，如函数声明之类

4 #endif
```

如果使用#import来包含头文件，那么不需要做任何事情，在c.h中就只会包含一次a.h，而不会引起任何错误。不管你对一个文件同时包含了多少次，使用#import确定只会包含一次。所以它可以解决重复导入的问题，它会做一次判断，如果已经导入一次就不导入了。                  
实际上#import与#include功能基本相同，不过它避免了重复引用的问题，我们在引用文件的时候不用再去自己进行重复引用处理。所以在OC中我们基本用的都是import。

###  注意:
 #### 在使用#include的时候要注意处理重复引用的问题（这也是OC中#include与#import的区别 ）



# 二、#import与@class区别


``````
1. #import会将此类的所有文件全部导入，包括实例变量和方法。

@class只是告诉编译器有这么一个类，引用类名，至于这些类是如何定义实现的不去考虑，
一般用在.h文件的@interface之前。
``````
``````
2. 在头文件中，@class一般用于头文件中需要声明该类的某个实例变量的时候，此时只需要
  @class类名即可，不需要知道其内部的实体变量和方法。

而在.m文件里面，如果会用到这个引用类的内部的实例变量和方法，就需要使用#import来
 包含这个被引用类的头文件，这时候才包含了这个被引用的类的所有信息。
``````
``````
3. 为什么不直接在头文件中直接#import呢?

如果有一个头文件a.h，在其他大量头文件中都需要引用头文件a.h，如果使用的是#import，
那么当a.h中有了一点改动时，其他包含a.h的头文件都需要重新编译，这将耗费大量的时间
，降低了开发效率。

而如果在需要的时候使用的是@class，当a.h中有了一点改动时，由于其他头文件并没有将a.h
的内容包含进来，就不用重新编译，提高了开发效率。

还有一个用法会引起编译错误的就是在a.h中#import ‘’b.h‘’ 在b.h中#import ‘’a.h‘’
那么在编译的时候也会出现错误。
``````

``````
4. 什么时候该用@class，什么时候需要用#import呢？

（1）一般如果有继承关系的用#import，如Ｂ是Ａ的子类那么在Ｂ中声明Ａ时用#import。

（2）如果有循环依赖关系，如:A–>B, B–>A这样的相互依赖关系，如果使用#import来相互
    包含，那么就会出现编译错误，如果使用@class在两个类的头文件中相互声明，则不会有
    编译错误出现. @class指令只是告诉编译器，这是个类，保留个空间来存放指针就可以了。

（3）还有就是自定义代理的时候，如果在头文件中想声明遵循代理，遵循协议的时候应该用
    #import导入文件，不然的话会出错误。（delegate还不太清楚，正在学习和实践）

（4）使用有Category的类，要在.h头文件里用#import把Category包含进来。
``````
### 总结:

  1. 能使用#import的地方就不要使用#inlclude
  2. 使用#import不管你对一个文件同时包含了多少次，最终只会包含一次
  3. 在头文件中如果没有用到包含类的实现方法，只需要知道它是一个类时，就应该使用
     @class，而不是#import。如果需要使用类的一些方法时，则需要使用#import。
  4. 能使用@class的地方就不要使用#import

